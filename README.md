OrdersMini API
 –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞–∫–∞–∑–∞—Ö –∏ MongoDB –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞–∫–∞–∑–æ–≤ (—Å–æ–∑–¥–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ). –ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º .NET 8 (–∏–ª–∏ 6) –∏ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Clean Architecture.

API –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞–∫–∞–∑–∞—Ö –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è —Å –∑–∞–∫–∞–∑–∞–º–∏ –≤ MongoDB –¥–ª—è –∞—É–¥–∏—Ç–∞.

 –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É
1. –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –Ω–∞—á–∞—Ç—å, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

Docker: –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

.NET SDK: –¥–ª—è –∑–∞–ø—É—Å–∫–∞ API –ø—Ä–æ–µ–∫—Ç–∞.

2. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ PostgreSQL –∏ MongoDB —Å Docker Compose
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å PostgreSQL –∏ MongoDB –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:

Bash

docker-compose up -d
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:

–ó–∞–ø—É—Å–∫–∞–µ—Ç PostgreSQL –Ω–∞ localhost:55432 (–ø–æ—Ä—Ç 5432 –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞).

–ó–∞–ø—É—Å–∫–∞–µ—Ç MongoDB –Ω–∞ localhost:27018 (–ø–æ—Ä—Ç 27017 –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞).

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã, –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π:

Bash

docker ps
3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –¥–ª—è PostgreSQL
–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å EF Core –º–∏–≥—Ä–∞—Ü–∏–∏, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

–û—Ç–∫—Ä–æ–π—Ç–µ Package Manager Console –≤ Visual Studio –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

PowerShell

Update-Database -StartupProject Orders.API -Project Orders.Infrastructure
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ.

4. –ó–∞–ø—É—Å–∫ API
–î–ª—è –∑–∞–ø—É—Å–∫–∞ API –ª–æ–∫–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:

Bash

dotnet run --project Orders.API
üì° API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã
1. POST /api/orders ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:

JSON

{
  "customerName": "–ê–ª–∏—Å–∞",
  "totalAmount": 100.00,
  "status": "New"
}
–û—Ç–≤–µ—Ç:

JSON

{
  "id": "some-uuid"
}
–≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏. –û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç id —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞.

2. GET /api/orders ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤
–û—Ç–≤–µ—Ç:

JSON

[
  {
    "id": "some-uuid",
    "customerName": "–ê–ª–∏—Å–∞",
    "totalAmount": 100.00,
    "status": "New",
    "createdAt": "2025-10-20T11:22:45.382269+00:00"
  }
]
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ.

3. GET /api/orders/{id} ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ –ø–æ ID
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

id ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–∫–∞–∑–∞.

–û—Ç–≤–µ—Ç:

JSON

{
  "id": "some-uuid",
  "customerName": "–ê–ª–∏—Å–∞",
  "totalAmount": 100.00,
  "status": "New",
  "createdAt": "2025-10-20T11:22:45.382269+00:00"
}
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–µ –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É id.

4. PUT /api/orders/{id} ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:

JSON

{
  "id": "some-uuid",
  "customerName": "–ë–æ–±",
  "totalAmount": 150.00,
  "status": "Shipped"
}
–û—Ç–≤–µ—Ç: 204 No Content ‚Äî –µ—Å–ª–∏ –∑–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª—ë–Ω.

5. DELETE /api/orders/{id} ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
–û—Ç–≤–µ—Ç: 204 No Content ‚Äî –µ—Å–ª–∏ –∑–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—ë–Ω.

 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MongoDB
–ö–æ–ª–ª–µ–∫—Ü–∏—è OrderHistory
–ö–æ–ª–ª–µ–∫—Ü–∏—è OrderHistory –≤ MongoDB —Ö—Ä–∞–Ω–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞–∫–∞–∑–æ–≤. –ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å —Å–æ–¥–µ—Ä–∂–∏—Ç:

Action ‚Äî —Ç–∏–ø –¥–µ–π—Å—Ç–≤–∏—è: Created, Updated, Deleted

Old Value ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–µ—Å–ª–∏ –±—ã–ª–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

New Value ‚Äî –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–∫–∞–∑–∞

Timestamp ‚Äî –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –∏–∑–º–µ–Ω–µ–Ω–∏—è

–ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ OrderHistory –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ MongoDB Compass –∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å mongosh.

–ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏ –≤ MongoDB:

JSON

{
  "orderId": "f51067cb-faaf-472f-9669-11702caa57da",
  "action": "Updated",
  "timestamp": "2025-10-20T12:00:00.000Z",
  "oldValue": {
    "customerName": "–ñ–∞–Ω–Ω–∞ –°–º–∏—Ç",
    "totalAmount": 199.99,
    "status": "New"
  },
  "newValue": {
    "customerName": "–ñ–∞–Ω–Ω–∞ –°–º–∏—Ç",
    "totalAmount": 199.99,
    "status": "Shipped"
  }
}
 –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫
PostgreSQL –∏ MongoDB –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—â–µ–Ω—ã, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∏—Ö —Å –ø–æ–º–æ—â—å—é:

Bash

docker-compose down
docker-compose up -d
–ù–µ —É–¥–∞—ë—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ MongoDB –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MongoDB –∑–∞–ø—É—â–µ–Ω –Ω–∞ localhost:27018 –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ docker-compose.yml.

–ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –ï—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –±—ã–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:

PowerShell

Update-Database -StartupProject Orders.API -Project Orders.Infrastructure
 –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Swagger: http://localhost:5000/swagger

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Postman –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤—Ä—É—á–Ω—É—é.

 –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
–î–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–∞—Ö PostgreSQL –∏ MongoDB —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Docker volume, –ø–æ—ç—Ç–æ–º—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è –¥–∞–∂–µ –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.